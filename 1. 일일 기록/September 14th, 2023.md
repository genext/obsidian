---
title: "September 14th, 2023"
created: 2023-09-07 13:58:09
updated: 2024-03-16 00:11:27
---
  * 오늘 6시 좀 안 되어서 누가 문을 쾅 닫는 바람에 놀라서 잠이 깼다. 순간적으로 옆방 젊은 놈이 문을 닫았을 것이라는 생각에 화가 치밀어서 벽을 쳤다.
    * 바로 고시원 사장에게 문자를 보냈다. 그런데 웬걸 평소에 답장이 늦던 사람이 바로 답장을 했다. ㅋ
    * 알고 보니 27호 여자가 원인이었는데...내 방 20호와는 거리가 꽤 있는데도 내 방 벽이 울릴 정도였다니...흠...고시원 방 구조에 문제가 많은 듯. 내 방 벽이 울리면 옆방부터 의심하지 말고 차분하게 고시원 사장에게 얘기하는 것이 낫다. 애먼 사람에게 감정을 품는 것만큼 바보 같은 일이 또 없다.
  * 오늘 10시부터 11시 반까지 회의했다.
    * 나이 들면서 회의 끝나면 점점 더 불안해진다. 너무 많은 것을 놓쳐서...생존에 대한 불안감...
  * [x] python [[python#^hN3xYxDfQ|context manager]]
  * 16:15 token 세는 것 추가 조사
    * 현재 사용하는 방법
    * ```javascript
import { getEncoding } from 'js-tiktoken';

export function getTokenLength(text) {
  return getEncoding('cl100k_base').encode(text).length;
}```
    * 조사 결과
      * js-tiktoken은 괜찮다. 하지만 그것은 openAI의 공식 라이브러리가 아니고 오픈 소스 라이브러리. 파이썬용 공식 라이브러리 tiktoken이 있음.
      * cl100k_base은  gpt-4, gpt-3.5-turbo, text-embedding-ada-002 지원.
      * 스트리밍일 때 정확한 계산?
        * 스트리밍은 조각조각으로 온다. 과연 통으로 계산할 때와 동일한 결과가 나오는지 확인 필요
          * 테스트 결과: 조각조각 센 것이 통으로 센 것보다 조금 많다.