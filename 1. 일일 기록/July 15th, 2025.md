---
title: "July 15th, 2025"
created: 2025-07-15 07:18:02
updated: 2025-08-04 19:19:38
---
  * 오늘 할 일
    * markdown 표에서 None으로 표시된 부분을 표 자체만 보고 어느 방향으로 병합할지 결정할 수 있는지 확인
  * 명경지수 -> 명징한 생각
  * 오늘 일 중 꼭 기억할 것은?
  * 내가 한 일 중 중요하고도 잘 했던 일은?
    * 피곤한 듯했지만 달리기했다.
  * 07:19 cig 1
  * 08:38 cig 2
  * 08:45 markdown 표 분석 시작
    * 로그에 pymupdf가 읽은 원래 표가 있다. 여기에 빈 칸이 None으로 되어 있음.
    * pymupdf4llm은 알아서 옆이나 위에 있는 것을 따라 None을 바꾼 것 같은데 이게 잘 될 때가 있고 잘 안 될 때가 있다.
    * 중간에 권대영 부장이 드라이버 가져와서 이중 모니터 설정 시도했지만 모니터를 하나만 인식한다.
  * 10:02 pymupdf4llm이 None을 어떻게 처리하는지 소스와 함께 claude에게 물어본 결과
    * pymupdf4llm은 테이블 읽을 때 pymupdf의 find_tables()를 호출한다.
    * 테이블에서 글을 추출할 때 None이 아닌 것은 그대로 추출하고 None은 ""로 바꾼다.
    * 마크다운 저장은 pymupdf의 to_markdown()을 호출한다. 
    * 결론은 내가 pymupdf의 find_tables() 결과를 가지고 pymupdf4llm에서 테이블 처리하는 로직을 가져와서 None을 ""로 바꾸는 것을 수정해야 한다. 
  * 10:06 markdown 표 분석 시작
    * 이전 로그는 테이블 일부만 로그에 찍도록 함. -> 테이블 전부 기록 + pymupdf4llm의 enchanced 추줄에 force_text = True 추가해서 그림에 있는 글도 추출하게 함.
    * 분석 중 code-server down
  * 10:49 cig 3
  * 11:36 markdown 표 분석
    * 아무래도 pypmupdf 테이블 관련 함수(find_tables, extract)에 버그가 있는 듯. 테이블 내용을 깔끔하게 읽지 못한다.
    * pymupdf의 extract가 문제 있는 듯. pymupdf4llm은 p6만 제외하고는 각 셀 내용을 정확하게 뽑는다.
    * 즉, find_tables()를 이용해서 테이블 객체를 얻어오되, 나머지는 pymupdf4llm 로직을 보고 수정해서 사용해야 할 듯.
  * 13:19 cig 4
  * 13:29 markdown 표 분석 - 표 안에 표가 있을 때, 해결방안?
    * p16의 표 안에 표는 아예 뭉개지고 일반 글로 표시되는데...이게 원래 표였다는 것을 구분할 수 있는 방법은? -> 김희민 매니저가 pymupdf4llm 소스를 수정해서 중첩표 알아내는 로직 추가함.
      * pdf로 따로 준다고 했는데 이게 어느 표에 있는 것인지 어떻게 알려줄지? -> 표 안에 있는 표는 또 pdf 파일로 만들어서 따로 주지 않기로 함. 이미 김희민 매니저가 처리한 것을 쓰면 된다.
    * p6과 p17은 동일한 표인데 p17은 글이 중간에 잘리지 않고 잘 처리되었다.
      * 그런데 둘 다 find_tables()에 잡히지 않았다. 그냥 추출한 글에 포함되었는데...그런데 pymupdf4llm은 이걸 어떻게 표로 인식했지? -> 뭔가 착오가 있었겠지.
    * p19는 pymupdf4llm은 열이 5개라는 것을 잘 파악했지만 열병합으로 처리했어야 하는 것을 행병합으로 처리한 것이 원인. 사실 단순 로직으로 따지면 행병합처럼 보인다. 열도 None이 반복되는지 판단하는 로직이 추가되어야 할 듯.
    * p20은 이상하게 pymupdf4llm이 표 안의 표를 인식해서 밖으로 표시(3개 중 2개)
      * 큰 표에는 작은 표의 내용이 그냥 일반 글처럼 표시됨.
  * 16:19 cig 5
  * 17:54 pymupdf4llm를 import하는 대신 아예 to_markdown 소스를 내 프로그램에 넣었다. 실행하려는데 실행이 안 된다. 설상가상, claude token 제한에 걸렸다. 
  * 18:03 cig 6
  * 19:23 cig 7
  * 21:33 결국 claude 구독료를 더 내기로 했다. 일단 한 달만 쓰고...
  * 21:40 cig 9