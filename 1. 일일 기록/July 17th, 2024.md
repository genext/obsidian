---
title: "July 17th, 2024"
created: 2024-07-17 08:07:02
updated: 2024-07-18 10:38:33
---
  * 08:07 오늘도 아침식사 부실. 1개비
    * 저질 쏘세지, 마늘쫑, 정체 모를 국.
  * 8:45 2개비
  * 10:03 커뮤니티(공지사항, FAQ, Q&A) 관련 인터페이스 추가 및 ERD 수정.
  * 10:19 테스트 서버에 mysql 설치 및 db script 복사 - 유승헌 부장 부탁
  * 10:35 3개비
  * 10:43 mysql 설치 시 고려사항
    * CBDC 본사업 mysql 버전 확인
    * mysql 서버 설치 중 root account 비밀번호 bokv
      * strong password encryption(recommended) 선택
    * 그런데 설치프로그램이 자동으로 mysqld 시작해주었나? 아래 mysql 시작 명령문을 치지도 않았는데 mysqld가 떠 있었음.
      * ```shell
sudo systemctl start mysql
sudo systemctl enable mysql```
    * mysql 버전 확인. -> 8.0.38
      * 아래 명령어 치고 패스워드 입력 후 
        * ```shell
sudo mysql -u root -p```
        * mysql prompt에서
        * ```shell
mysql> select version();```
  * 12:27 설치한 mysql에 CBDC DB에서 덤프한 테이블 생성 스크립트를  복사 완료
    * ```shell
mysql -u root -p

# mysql prompt에서 명령어 실행
CREATE DATABASE your_database_name;
USE your_database_name;```
    * cmd에서 스크립트 import 실행
      * ```shell
mysql -u root -p your_database_name < /path/to/dump-참가기관-202407151412.sql```
    * import 결과 확인
      * ```shell
# mysql prompt에서 명령어 실행
SHOW TABLES;
SELECT COUNT(*) FROM some_table;  -- Replace 'some_table' with a table name from your dump```
    * 위 과정을 dump-한국은행-202407151410.sql에 대해서 그대로 하려고 했는데 bok database 대신 bokv database에 스크립트를 import 해 버림.
    * 그래서 database 삭제 후 처음부터 다시 생성해서 하려고 함.
      * ```shell
# mysql prompt에서 명령어 실행
DROP DATABASE your_database_name;
SHOW DATABASES;```
    * 아까처럼 cmd에서 스크립트 import 실행했지만 에러 발생
      * ```shell
@@GLOBALGTID_PURGED cannot be changed: the added gtid set must not overlap with @@GLOBAL.GTID_EXECUTED```
        * 원인
          * @@GLOBAL.GTID_PURGED indicates that there is a conflict with the Global Transaction Identifiers (GTIDs) in MySQL. When you drop and recreate a database, GTID-related information persists and can cause conflicts if the same GTIDs are encountered again.
        * 조치
          * ```shell
# mysql prompt에서 명령어 실행하지만 복제(replication) 환경내에서는 사용할 때 주의하도록!
RESET MASTER; 
DROP DATABASE your_database_name;
CREATE DATABASE your_database_name;```
    * 이후 import 잘 됨.
  * 12:35 4개비
  * 13:28 5개비
  * 15:05 6개비
  * 16:50 7개비