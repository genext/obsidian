---
title: "June 26th, 2024"
created: 2024-06-26 06:54:27
updated: 2025-09-17 12:50:58
---
  * 06:51 출근
  * 07:46 1개비 
  * 08:10 오늘 오전에 application bank/bok 집중
  * bank/bok 디렉토리 차이점
    * {{table}}
      * 공통 디렉토리
        * bank
          * bok
      * alias, common, dc1, dc2, issue, policy, refunc, wallet
        * cmmnty, cstmr, scheduler
          * dispose, manufacture, partCompany
    * bank에만 있는 것
      * cmmnty: 참가기관 커뮤니티 관리
        * 참가기관 커뮤니티 목록 조회
        * 커뮤니티 마스터 정보 조회
        * 참가기관 게시판 마스터 등록
        * 참가기관 마스터 삭제
        * 답변 등록
      * cstmr: 참가기관 고객관리(계좌/고객)
        * 계좌 목록 조회
        * 계좌 상세 조회
        * 계좌 등록_app(일반, 사업자)
        * 계좌 정보 수정
        * 계좌 사용 및 중지 처리
        * 고객 목록 조회
        * 고객 상세 조회
        * 고객 등록_app(일반/사업자)
        * 고객 정보 수정
        * 고객 사용 및 중지 처리
      * scheduler: 은행만 쓰는 자동 실행?
    * bok에만 있는 것
      * dispose: CBDC 폐기 관리
        * 미서명 거래 다운로드
        * CBDC 폐기 요청 목록 조회
        * 지갑 헤드 정보 조회
        * CBDC 폐기 요청 조회
        * CBDC 폐기 요청 생성
        * CBDC 폐기 요청 수정
        * CBDC 폐기 요청 삭제
        * CBDC 폐기 요청 반려
        * CBDC 폐기 요청 승인 의뢰
        * CBDC 폐기 요청 승인
        * CBDC 폐기
      * manufacture: CBDC 제조
      * partCompany: 참여기관 관리
        * 참여기관 목록 조회
        * ID로 참여기관 상세 조회
        * 참여기관 등록
        * ...
    * 공통 디렉토리 조사
      * common: api는 없고 bank에는 interfaces(보안 토큰, 거액 입출금/송금 등) 디렉토리가 추가로 있음. 나머지는 거의 동일
      * dc1
        * bank 참가기관 DC1 관리
          * DC1 제조 정보목록 조회
          * DC1 지갑 헤드 정보 조회
          * DC1 제조 정보 조회
          * DC1 제조 정보 등록
          * ...
        * bok 참가기관 DC1 제조 서비스
          * DC1 제조 요청 목록 조회
          * DC1 지갑 헤드 정보 조회
          * DC1 제조 요청 조회
          * DC1 제조 요청 생성 및 사전처리
          * ...
      * dc2는 dc1과 타입만 다름
      * issue CBDC 발행 관련
      * policy는 통화정책관리
      * refund는 CBDC 환수
      * wallet는 한국은행과 참가기관 지갑관리
  * 09:24 2개비
  * 09:42 backend 분석 결과 CBCD만 처리하는 것. 우리가 참고할 만한 것은 wallet과 blockchain interface 뿐인데 이것도 정말 기술적인 부분만 참고 가능하고 업무 구현에는 별 도움 안 될 것 같음.
  * 10:12 3개비
  * 11:26 4개비
  * 11:34 RFP 다시 보기
    * 추진 배경
      * 관리 문제
        * 발행자와 이용자가 바우처를 통합 관리하기 어렵다.(지갑, 스마트폰 -> 전자지갑)
      * 시스템 문제
        * 바우처 발행, 유통에서 플랫폼 종속, 중복 구축, 분절화 문제
      * 비용, 수수료 문제
        * 바우처 부정 수급 및 사용, 미수령 사후 비용, 정산 수수료 발생
    * 필요성
      * 미래 통화 인프라 구축 실험
      * 효율적인 디지털 바우처 생태계 구축
    * 목표와 방안
      * 디지털 바우처 관리 시스템
        * {{table}}
          * 디지털 바우처 관련 스마트계약 검증 배포
            * 스마트계약 검증/배포 요청 API - 관리기관
          * 스마트계약 활용하여 조건부 지급 서비스
            * **블록체인** 상 스마트계약 실행
          * 유통 모니터링 구현 플랫폼
            * 디지털 바우처 거래 기록 DB
      * 디지털 바우처 유통 시스템
        * {{table}}
          * **참여기관간 이용자, 사용처 정보 공유**

          * 디지털 바우처 유통 및 모니터링
            * 디지털 바우처 거래 기록 DB 조회 API
      * CBDC 플랫폼 연계
        * {{table}}
          * 예금 토큰에 디지털 바우처 기능 부여(PBM) 표준화 -> CBDC 플랫폼 상에서 효율적으로 동작.

  * 12:05 RFP 중 대금 지급 업무 분석
  * 12:37 RFP 중 스마트계약 관리기관의 업무개발에서 "금융기관별로 보유한 이용자 및 사용처 정보를 개인정보보호 관련 규제를 준수하며, 통합 관리할 수 있는 방법론 개발 및 관리시스템 구현" 문구 분석
    * 금융기관끼리 또는 금융기관 마케팅 회사 사이에서 개인 정보를 넘겨준다 -> CBDC 본 사업 문서에서 흐름도에서 알 수 있듯이 바우처 신청 페이지에 개인 정보를 입력하면 그걸 가지고 타행에게 전자지갑 주소를 요청한다. 
    * 바우처 정보와 사용처 정보는 담당 참가기관의 DB 내 IPFS에 보관해서 타행이 조회할 수 있도록 한다. 
  * 12:55 5개비
  * 13:46 지갑 분석 시작
    * walletManageService.requestForCreation() 호출이 두 군데서 발생
      * /application/bok/wallet
        * 지갑을 두 번 생성 - 참여기관용 지갑 - 참여기관 지갑 속 블록체인 지갑
        * 참가기관에서 요청할 때 실행
        * 중복 체크한다
        * 블록체인 호출
          * 블록체인에 지갑 생성
        * 블록체인 지갑 생성 후 해당 지갑 정보를 참여기관 지갑 속에 저장
      * /application/ewa/wallet
        * 이용자가 요청할 때 실행
        * 중복 체크 X
        * 블록체인 호출 X -> [[디지털 바우처 프로젝트#^wma8p9Xbe|이용자 전자지갑은 EOA 타입. 이로 미루어 사용처 지갑도 EOA 타입이어야 한다는 것을 알 수 있고 지갑과 지갑 사이에서 바로 송금 가능하다.]]
  * 14:04 EOA와 CA
    * EOA(External Owner Account)
      * 일반적 계정 유형
      * 개인키 존재
      * 트랜잭션 발생시키고 다른 EOA나 CA에 전송 가능
      * ex: 메타마스크에서 생성한 계정
    * CA(Contract Account)
      * contract 코드에 의해 통제되는 계정으로 컨트랙트를 네트워크에 배포할 때 생성
      * 개인키가 아닌 특정 조건이 만족되면 실행되는 코드 존재.
        * 따라서 EOA가 발생시킨 트랜잭션을 전송 받고 해당 트랜잭션이 조건을 만족하면 코드가 실행
      * 입금만 되고 출금이 안 되어 점점 사용하지 않는 추세.
  * 14:21 위에서 지갑 분석했을 때 bok와 이용자만 봤다. 참가기관의 지갑 생성 요청 분석 시작
    * 참가기관의 restAPI(/application/bank/wallet)는 PdmWalletManageServiceImpl의 create만 호출하는데 이 함수가 bok용 WalletManageServiceImpl의 requestForCreation처럼 블록체인 지갑 만든다.
    * 위에 것 bok와 중복되는데 위에 것은 client에서 호출하지 않지만 이건 front의 *WalletApi.ts*에서 호출.
  * 15:12 6개비
  * 16:30 7개비
  * 16:42 on-ramp는 예금 토큰 발행을 의미. 반대는 off-ramp 예금 토큰 환수
  * 17:35 소스 분석 정리
    * front-end 화면 거의 없음. 단지 디렉토리 구성이나 API 호출 위한 axio 관련 소스 참고 가능.
    * back-end CBDC 본 사업 용이라 거의 도움이 안 됨. 지갑과 지갑 사이에서 바로 송금이 가능한 EOA 계정으로 전자지갑을 만든다는 것을 확인함.
    * 기타
      * 이용자 앱은 한국은행이 제공? -> 사용처 앱 개발(지갑 생성, 결제 등)할 때 소스 참고 가능?
  * 18:09 8개비
